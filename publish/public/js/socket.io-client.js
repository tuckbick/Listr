(function(a){a.version="0.8.0";a.protocol=1;a.transports=[];a.j=[];a.sockets={};if("object"===typeof module&&"function"===typeof require)a.util=require("./util").util,a.JSON=require("./json").JSON,a.parser=require("./parser").parser,a.EventEmitter=process.EventEmitter,a.SocketNamespace=require("./namespace").SocketNamespace,a.Transport=require("./transport").Transport,a.transports=["websocket","xhr-polling"],a.Transport.XHR=require("./transports/xhr").XHR,a.transports.forEach(function(d){a.Transport[d]=
require("./transports/"+d)[d]}),a.Socket=require("./socket").Socket,a.dist=__dirname+"/../dist",a.builder=require("../bin/builder");a.connect=function(d,g){var b=a.util.parseUri(d),e,c;if("undefined"!=typeof document)b.protocol=b.protocol||document.location.protocol.slice(0,-1),b.host=b.host||document.domain,b.port=b.port||document.location.port;e=a.util.uniqueUri(b);var f={host:b.host,secure:"https"==b.protocol,port:b.port||("https"==b.protocol?443:80),query:b.query||""};a.util.merge(f,g);if(f["force new connection"]||
!a.sockets[e])c=new a.Socket(f);!f["force new connection"]&&c&&(a.sockets[e]=c);c=c||a.sockets[e];return c.of(b.path.length>1?b.path:"")}})("object"===typeof module?module.exports:window.io={});
